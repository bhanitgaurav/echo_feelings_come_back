ktor {
    deployment {
        port = 8080
        port = ${?PORT}
    }
    application {
        modules = [ com.bhanit.apps.echo.ApplicationKt.module ]
    }
}

storage {
    driverClassName = "org.postgresql.Driver"
    jdbcUrl = "jdbc:postgresql://"${DB_HOST}":"${DB_PORT}"/echo_db"
    username = ${DB_USER}
    password = ${DB_PASSWORD}
}

jwt {
    secret = "secret"
    secret = ${?JWT_SECRET}
    issuer = "http://0.0.0.0:8080/"
    audience = "echo-app"
    realm = "Access to Echo"
}

features {
    emotionLimits {
        dailyCap = 100
    }
    cooldowns {
        enabled = true
        durationMinutes = 15
    }
    safety {
        shadowBanEnabled = true
    }
}

environment = "preprod"
